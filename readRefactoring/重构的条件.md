重构的条件~~~ 事不过三原则
找寻代码中的坏味道
1. 神秘命名
2. 重复代码 （事不过三）
3. 过长的函数 （73）：[提炼函数（106）](提炼函数（106）)、以查询取代临时变量（178）、引入参数对象（140）、保持对象的完整（319）、 以命名取代函数（337） 、 分解条件表达式（260）、以多态取代表达式（272）、拆分循环（227）
4. 过长的参数列表： 使用 以查询取代变量（324）、保持对象的完整（319）
5. 全局数据：封装变量（132）
6.  可变数据
7. 发散式变化：修改的时候希望能够跳到系统的某一点，只在该处进行修改， 如果做不到这一点， 需要嗅出两种紧密相关的刺鼻味道中的一种。 我们可以使用 拆分阶段（154）、搬移函数（198）、提炼函数（106）、 提炼类（182）
8. 散弹式修改： 与发散式修改相反，每当变化的时候，你需要修改很多地方，坏味道。 内联函数（115）、内联类（186）
9. 依恋情结： 一个函数跟另一个模块中的函数 或数据交流格外频繁，（这种一般遇不到，在框架中的话）搬移函数（198）、 提炼函数（106）
10. 数据泥团（Data clumps）： 提炼类（182）、引入参数对象（140）
11. 基本类型偏执： 以对象取代基本类型（174）
12. 重复的 switch : 构建 class 类 去解决， 以多态去替代表达式（272）
13. 循环语句（loops）： 以管道取代循环（231）， filter 和 map结合
14. lazy Element ： 某些函数，其实可以使用 内联函数取实现，不需要放在外边
15. 夸夸其谈通用性：折叠继承体系（380）
16. 临时字段： 提炼类（182）、搬移函数（198）、引入特例（289）
17. 过长的消息链: 隐藏委托关系（189）
18. 中间人：
19. 内幕交易： 把两个模块的数据交流放到明面，搬移函数（198）
20. 过大的类：提炼类（182）、提炼超类（375）、以子类取代类型码（362）
21. 异曲同工的类
22. 纯数据类
23. 被拒绝的遗赠
24. 注释： 当你感觉需要撰写注释的手，请先尝试重构，试着让所有注释都变得多余